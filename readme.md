#   Полезное для прочтения

Данная утилита используется для автоматической генерации таблиц и триггеров, необходимых в рамках заданной лабораторной работы.

##  Использование утилиты
---

### Python

AutoTriggers использует для своей работы Python, который можно загрузить с [официального сайта](https://www.python.org/downloads/) или из [Microsoft Strore](https://www.microsoft.com/store/productId/9P7QFQMJRFP7) для пользователей Windows. Рекомендуется загружать имеено с официального сайта, так как Microsoft Store не позволяет выбрать набор устанавливаемых и не добавляет путь до Python в системные переменные Windows. После установки нужно перезагрузить систему.

В большинстве случаев у обладателей систем Linux уже предустановлен Python. Иначе гугл в помощь:alien::+1:.

---

### Установка зависимостей

Данная утилита использует некоторые зависимости для своей работы. Для их загрузки и установки нужно прописать следующую команду в терминал:

    pip3 install pymysql, argparse

---

### Запуск утилиты

Для того, чтобы начать пользоваться утилитой, нужно открыть терминал в папке с утилитой и прописать следующее, если имя файла `main.py` не было изменено:

    python3 main.py -db [имя_бд]

Утилита принимает описанные ниже параметры:

*   `--host` - принимает адрес MySQL-сервера (*default: localhost*);

* `--user`, `-u` - принимает имя пользователя (*default: root*);

* `--password`, `-p` - принимает пароль от пользователя (*default: ""*);

* `--database`, `-db` - обязательный параметр, принимающий имя базы данных, для которой нужно создать триггеры;

* `--auto_create`, `--auto` - если указан, утилита сразу создаёт необходимые таблицы и триггеры в указанной базе данных (__не реализована__);

* `--file`, `-f` - принимает путь до директории, в которую будет сохранён .sql-файл, только если не был указан параметр `--auto_create` (*default: директория с утилитой*);

* `--delete_tables`, `-d` - если параметр указан, будет генерироваться SQL-код, который будет удалять созданные тем же запросом таблицы и триггеры. Рекомендуется указывать его. Полезен в том случае, если нету параметра `--auto_create` и структура таблицы поменялась и можно легко руками отредактировать SQL-запросы.
    * **Примечание**: Если в ходе выполнения сгенерированного SQL-скрипта возникла ошибка, рекомендуется удалить таблицы, которые скрипт успел создать, иначе можно словить бесконечный цикл генерации таблиц с логами и бэками и триггеров для сгенерированных ранее таблиц, поэтому данный параметр бесполезен при повторной генерации через утилиту.

---

##  Планы:
- [ ] Реализовать автоматическое выполнение SQL;
- [ ] Добавить кэширование уже созданных таблиц для избежания проблем бесконечного генерирования таблиц;
- [ ] Добавить функционал генерирования представлений для таблиц с логами;
- [ ] Скомпилировать в бинарный файл?